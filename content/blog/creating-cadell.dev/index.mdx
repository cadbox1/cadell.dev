---
title: Creating Cadell.dev
date: '2019-04-10T18:20:00Z'
description: How I created cadell.dev using Netlify, GatsbyJS and Markdown. 
---

- How to create cadell.dev
  - Design
    - cadell.dev
    - Netlify
    - GatbyJS
    - Markdown
  - Netlify
    - inspiration for building the site
    - lots of positive comments on hn
    - free
    - branch deploys
      - mean you can make a change and share it on a live site
        - deploys are automatic
        - unlimited number of live sites
      - compared to traditional shared development environments
        - manual deploys
        - limited sharing
      - they can do this because they focus on static sites
        - static sites are simple because they don't have servers
          - Apparently Containers and Kubernetes can do branch deploys on more complicated projects
            - hard to setup
            - May as well try it out with Netlify holding my hand
      - Other goodies
        - automatically detects how to build your project
        - CDN 
        - some backend options with functions
        - Netlify CMS
    - Execution
      - awesome experience
      - only had to decide whether to use their DNS or not and I decided to
  - GatsbyJS
    - used by
      - franc.dev
      - dan abramov
      - used it once before
    - alternatives
      - next.js
        - not focused on static sites
      - react-static
        - less resources
        - even after reading their blog I'm not clear what it offers
    - features
      - React component model
      - Lots of starter packs
      - works with lots of different CMS's and content sources
      - can optimise images as part of the build
    - execution
      - planned to the basic starter
        - doesn't support markdown
          - had to decide whether to switch starters or add the functionality
            - converted the markdown to html in Typora just to get something finished for the night
    - other alternatives
      - started wondering why I was even using Gatsby when Github Pages comes with Jekyll built in
        - React's component model is nice
          - doesn't offer that much extra over the simplicity of a Jekyll GitHub page
          - I can't use components in my blogs because I'm using markdown
            - then I remembered MDX
              - let's you use react components in markdown
            - switched to the mdx starter 
  - Styling
    - Gatsby comes with typographyjs
    - Choosing a font is hard
      - I found a lot of free fonts are pretty average
      - lots of awesome fonts on websites are paid
      - did not like default gatsby fonts at all
      - preferred sans fonts
        - options
          - Open Sans
          - Lato
          - Source Sans Pro
          - IBM Plex Sans
          - Nunito
          - Helvetica (classic)
          - System font stack
            - This will vary from system to system which I wasn't happy with
      - serif options
        - Georgia
      - recommend using a browser extension like font changer
    - Choosing a color
      - hsl(x, 100%, 60%) is a good start
    - reusing styles with css in js
      - still experimenting with this
      - put common styles in a style.js file as objects then using them inline
      - typographyjs has some utils which are interesting but I'm still getting used to it


  - Expanded
      - Cadell.dev domain 
        - Franc hassled me
      - Netlify
        - lots of positive comments on hn recently
        - biggest features
          - free
          - build tool
          - CDN
          - branch deploys
            - why
              - share live changes
                - helps when reviewing pull requests
                  - so you can see what changed instead of guessing from the code
                - agencies can preview changes with clients
                - good for showing progress in a blog post like this
              - don't have to compete with a single test environment so you can share as many changes as you like
                - why a single test enviornemnt?
                  - non static sites are usually more complicated
                  - Apparently you can do it with Containers and Kubernetes but that is way harder
        - other cool features
          - functions
          - CMS
      - GatsbyJS
        - Alternatives (using StaticGen)
          - Next.js
            - not focused on static websites
          - React-static
            - They don't like how Gatsby uses GraphQL
              - fair point, it could be hype driven development but could also be a valid usecase
              - Didn't see any advantages over it
        - Pros
          - used it before
          - Franc and Dan Abramov use it
        - Problems
          - didn't plan this out very far so I had an existential crisis
            - didn't use the blog starter because I didn't see the point
              - get the benefits of styling with react
              - don't get benefits of putting react components in your blog
              - what do I do with the markdown I wrote?
                - just converted it to html
            - if you just want an easy markdown site you can use Jekyll with Github Pages
            - how do you get the best parts of markdown and react?
              - mdx!
              - There's a starter for it.
              - can do a cool changeTheme stuff

## Introduction

Netlify received [heaps of positive comments on hackernews today](https://news.ycombinator.com/item?id=19615546) and after looking into them a bit more I can see why they're so appealing. They offer a free service to that makes it easy to build and deploy web applications but mainly focus on static websites as part of a [JAMStack](https://jamstack.org/). That means they offer a CDN (content distribution network for fast page loads) and a [CMS](https://www.netlifycms.org/) but also offer some more unique features like [functions](https://www.netlify.com/docs/functions/). Functions allow you to create AWS Lambda functions without setting them up or creating an AWS account.

Tying these features together are branch deployments. Branch deployments let you make a change to your website on a branch and have that deployed as a live site soon after. This is useful for reviewing pull requests where you can interact with a live website instead of just reading code. For agencies, you can share a preview of changes with a client before changing the main site. I've heard you can do this with Containers and Kubernetes for more complicated projects but it's a lot easier for static websites because you're only serving files instead of managing servers. 

And Netlify nails it. Its easy to setup and once that's finished each branch is deployed within minutes. And you still have some backend options using their functions.

Managed branch deployments look like their biggest feature. Being able to review a pull request next to the deployed site sounds way better than the shared development environments I'm used to. I hear you can do that with Containers and Kubernetes but I'd love to experience it on simpler static sites with Netlify holding my hand first. This could also benefit agencies, letting clients preview changes on a live site easily.

Netlify even offers room to grow past simple static sites with [Functions](https://www.netlify.com/docs/functions/) which offer AWS Lambda functions with the same branch deployment model. There's also [Netlify  so I had to give it a go.

My mate, [Franc](https://franc.dev/), has been telling me to take the cadell.dev domain for a while and right before I started I realised I could write about the process and use it as the first post.

## Design 1
- cadell.dev
- Netlify and GitHub
- GatsbyJS

I quickly reviewed the GatsbyJS choice using [StaticGen](https://www.staticgen.com/). Next.js seems to be less focused on static sites, I've used GatsbyJS before and it was alright and is used by [Franc](https://franc.dev/) and [Dan Abramov](https://overreacted.io/), React-static is a bit less popular and their [introduction blog post](https://medium.com/@tannerlinsley/%EF%B8%8F-introducing-react-static-a-progressive-static-site-framework-for-react-3470d2a51ebc) talks about why GatsbyJS didn't work for them including that they didn't like GraphQL much. GraphQL sounds a bit like hype driven development but it does have its usecases and you don't have to use it with Gatsby. I wasn't sure what react-static offered over GatsbyJS so I stuck with GatsbyJS.

## Attempt 1

### Netlify 
The Netlify experience is very polished and I had cadell.dev running the GatsbyJS default starter in about an hour. I later learned you can click the Netlify button on the gatsby starters to get started which might make it slightly faster. 

The only decision I had to make was whether to use Netlify's DNS or not. I decided to use it because it might allow [branch deploys under our domain](https://www.netlify.com/docs/continuous-deployment/#branches-deploys) but I don't think its a big decision.

### GatsbyJS
I wrote this blog post as I went in markdown, using [Typora](https://typora.io/), and used the default Gatsby starter pack which wasn't focused on blogs. I then had to decide whether to switch starters, add markdown to the default starter or think of something else. I then got a little bit more existential and wondered why I wasn't just using GitHub Pages which already supports markdown with Jekyll. 

 That's when I got really existential and wondered why I was even using limited markdown instead of powerful React. This existential crysis was taking too much time and I reminded myself that I try Netlify and wanted to use React. I might write that down next time. This crysis wasn't helping me try out Netlify so I decided to use Typora to convert what I had written to HTML, paste it into the default starter and save the markdown file as a source. This was a bit more tedious when I had to update the post later on but got it the job done. Let's make the the most of branch deploys, check it out here: [https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/](https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/).

## Attempt 2
How can I get the best of markdown and React components? I remembered mdx, which I first saw in [docz](https://www.docz.site/), and sure enough there was a [gatsby plugin](https://gatsby-mdx.netlify.com/) for it. Honourable mentions, there's also plugins for react-static and next.js.

After a while of searching I found [Gatsby Starter Blog MDX](https://github.com/hagnerd/gatsby-starter-blog-mdx/) which is a fork of the [Gatsby Starter Blog](https://github.com/gatsbyjs/gatsby-starter-blog) with mdx support. We could have added the functionality manually to understand how it works better but this works out of the box and you can always dive in later.


## Method

1. Open [Typora]([https://typora.io/) so you can write your first blog post as you go.

2. Go to [domains.google.com](https://domains.google.com) to buy the .dev domain. Its a bit cheaper than namecheap.

   1. Verify the domain by clicking the link in your emails.
   2. Leave this tab open for later.

3. Go to [GitHub](https://github.com) to create the repo.

   1. Click the plus on the top right corner, then go New repository.
   2. Name it cadell.dev.
   3. Click Create Repository.
   4. Leave the tab open.

4. Go to [GatsbyJS](https://www.gatsbyjs.org/).

   1. Open the [Quick start](https://www.gatsbyjs.org/docs/quick-start).

   2. Open Terminal.

   3. cd to your personal dev folder.
      ```shell
      cd dev/personal
      ```

   4. Install the gatsby CLI.
      ```shell
      npm install -g gatsby-cli
      ```

   5. Create the site. 
      ```shell
      gatsby new mdx-test https://github.com/hagnerd/gatsby-starter-blog-mdx
      ```

   6. cd into cadell.dev.
      ```shell
      cd cadell.dev
      ```

   7. Start gatsby. 
      ```shell
      yarn start.
      ```

   8.  Open localhost:8000 in your browser.

   9.  Close gatsby by typing `Control + c`.

5. Open the github page you left open earlier.

   1. Copy the command from the "or push an exsting repository from the command line" section. Gatsby created a git repo for us.

   2. Run the command in terminal.

      ```shell
      git remote add origin https://github.com/cadbox1/cadell.dev.git
      git push -u origin master
      ```

   3. Refresh the github page to see the files from our first commit.

6. Go to [Netlify](https://www.netlify.com/).

   1. Signup.
   2. Activate your account via email to get in (I like this).
   3. On the Create a new site page, Click connect to Git provider.
   4. Click GitHub.
   5. Auhtorize Nelify by Netlify to access your GitHub account.
   6. Select the cadell.dev repo.
   7. Click Install.
   8. Select the cadell.dev repo in Netlify.
   9. Netlify has automatically detected that our site is a Gatsby site. Click Deploy site.
   10. Wait a few moments for the site to be deployed.
   11. Click Set up a custom domain. Apparently you can buy the domain inside Netlify, for ~$5 aud extra. Oh well, setting up DNS is somewhat related to being a web developer.
   12. Type in `cadell.dev`.
   13. Click Yes, add domain.
   14. Click Check DNS configuration.
   15. Now apparently we can either do the developer thing I spoke about earlier and setup the DNS in Google or get Netlify to manage our DNS. The latter will mean that we have the option to have [branch deploys under our domain](https://www.netlify.com/docs/continuous-deployment/#branches-deploys) which sounds aesthetically better. We still get to configure name servers which is still pretty developery.
   16. Click Set up Netlify DNS for cadell.dev.
   17. Click Verify.
   18. Click Yes, add domain.
   19. Since Netlify will now be our DNS, we have the option to add DNS records if we use the domain for other services like email. Let's skip this since we aren't and can always do it later.
   20. Click Continue.
   21. Open up the Google Domains tab we left open from earlier.
   22. Click Use custom name servers for your domain.
   23. Click User custom name servers.
   24. Enter each one of the Netlify name servers.
   25. Click Save.
   26. Click Change name servers anyway when prompted with a scary DNSSEC warning.
   27. Open the Netlify tab.
   28. Click Done.
   29. Refresh the page after a few moments to make the DNS warnings go away.
   30. Scroll down to HTTPS, click Verify DNS Configuration.
   31. Scroll up to Branch subdomains, click Deploy settings panel.
   32. Under Deploy contexts, click Edit settings.
   33. Select All for Branch deploys.
   34. Click Save.
   35. Click on Domain management to see that our SSL certificate has been created.
   36. We can now go to [https://cadell.dev/](https://cadell.dev/).

7. Open VSCode.

   1. Open the `cadell.dev` folder.
   2. Hit `Control + `` to reveal the terminal.
   3. Create a new branch. 
      ```
      git checkout -b FirstRealCommit
      ```
   4. Create the following folder. `content/blog/creating-cadell.dev`.
   5. Open Typora.
   6. Save the markdown file to `content/blog/creating-cadell.dev/index.md`.
   7.  Run the following command to start the development server. This is standard for npm projects.
      ```
      yarn start
      ```
   8.  `Cmd + Click` the `http://localhost:8000/` link in terminal to open it in your browser.
   9.  Open `gatsby-config.js`.
   10. Change the siteMetadata.title to `cadell.dev`.
   11. Change the author to `Cadell Christo`.
   12. Remove the `description`, `siteUrl` and `social`.
   13. Double click the `index.js` file under `src/pages`. The double click makes the tab 'sticky'.
   14. Remove the keywords from the SEO component.
   15. `Command + Click` the Bio component to open it up. Edit it to your liking.
   16. Open up the `content/blog` folder and delete the default posts.
   17. Click the cloud in the bottom left of VSCode to push the branch.
   18. We should be able to go to [https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/](https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/) to see the result. Netlify built and deployed the branch automatically!
   19. Click Output then Git to see the push result.
   20. Command Click the pull request link to create a pull request.
   21. Click Create pull request. This will kick off Netlify again.
   22.  Wait a few minutes for Netlify to build. 
   23. Click the deploy preview to see the site.
   24. Click the drop down on the merge pull request then click Squash and merge.
   25. Go to [https://cadell.dev/](https://cadell.dev/) and see the result.