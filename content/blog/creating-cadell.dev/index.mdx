---
title: Creating Cadell.dev
date: '2019-04-10T18:20:00Z'
description: How I created cadell.dev using Netlify, React, GatsbyJS and Markdown (MDX). 
---

I think the first post of any new tech blog should be how you made the blog so this is that post. I just wanted to use the cadell.dev domain and give Netlify a go and didn't put too much thought into Gatsby. This lead to an expected review of the blogging landscape that ultimately lead me to stay with Gatsby. It also meant playing with typography, vertical rythm and css as well as just writing in general. It was a lot more than I bargained for but still very interesting and I'll update this post as I learn more.

## Design
- cadell.dev domain
- GitHub
- Netlify
- GatsbyJS (React)
- Markdown (MDX)

## Netlify

Netlify received [heaps of positive comments on hackernews today](https://news.ycombinator.com/item?id=19615546) and after looking into them more I can see why. They offer a service that makes it easy to build and deploy web applications but they offer some unique features. They're free, support branch deploys to their CDN (content distribution network) and even have some more advanced features like backend [functions](https://www.netlify.com/docs/functions/) and a [CMS](https://www.netlifycms.org/) (content management system). Overall, they have an extensive product that is very polished for free.

The biggest feature for me is branch deployments. Branch deployments let you make a change to on a branch and have that deployed as a live site soon after. This makes it easy to review changes with a client or internally with your team, possibly as part of a pull request. I'm used to a small number of development environments, and therefore small number of concurrent deploys, all controlled manually so automatic branch deploys sound a lot nicer.

I've heard Containers and Kubernetes can do this for more complicated projects but the problem is a lot simpler for static sites because you're only serving files instead of managing servers. Netlify still offers some backend options using [functions](https://www.netlify.com/docs/functions/) which let you run AWS Lambda functions even without an AWS account, which sounds very interesting.

The whole experience is very polished and I had cadell.dev running the GatsbyJS default starter in about an hour. They automatically configure the build steps based on your project which just goes to show how much thought they've put into it and it makes a big difference. I later learned you can click the Netlify button on the Gatsby starters to get started even faster. 

The only decision I had to make was whether to use Netlify's DNS or not. I decided to use it because it might allow [branch deploys under our domain](https://www.netlify.com/docs/continuous-deployment/#branches-deploys) but I don't think its a big decision.

## GatsbyJS

Gatsby is the most popular React static site generator, bringing the React experience to static sites. It's used by [Dan Abramov](https://overreacted.io/) and [Franc](franc.dev) and I've used it briefly once before. It has heaps of resources and starter packs and the community is really good.

I quickly reviewed other React static site generators using [StaticGen](https://www.staticgen.com/); Next.js seemed to be less focused on static sites, React-static is a bit less popular and their [introduction blog post](https://medium.com/@tannerlinsley/%EF%B8%8F-introducing-react-static-a-progressive-static-site-framework-for-react-3470d2a51ebc) talked about why GatsbyJS didn't work for them, including that they didn't like GraphQL much. GraphQL might be overkill and a bit hype-driven but I was willing to find out. Besides, you don't have to use it.

I wrote this blog post as I went in markdown, using [Typora](https://typora.io/), and used the default Gatsby starter pack which wasn't focused on blogs. I then had to decide whether to switch starters, add markdown to the default starter or think of something else. It's not difficult to switch starters but I couldn't shake the feeling that I was missing the point of a React site if I was only going to use Markdown. I decided to convert the Markdown I had into html, using Typora, and paste that into the current site just to get something working.

## Other Blogging Options

### Hosted

[Medium](https://medium.com/) is the most popular hosted option. It's free and makes it easy for readers to follow and discover your content. Unfortunately, they also have a popup for readers who are not logged in, prompt logged in users to use their app and use a sticky header that takes up valuable screen space on mobiles. It's also scary how quickly they made these changes and how little control you have over them. Another free alternative is [dev.to](https://dev.to/) but the design looks bad to me otherwise there are some paid options like [write.as](https://write.as) and [ghost](https://ghost.org/). You might even be able to use something like [Tumblr](https://www.tumblr.com/) or [wordpress.com](https://wordpress.com/).

### Self-Hosted

The most popular non-static option is [Wordpress.org](https://wordpress.org/); the most popular blogging platform of all time and up there with [Linux](https://en.wikipedia.org/wiki/Linux) in terms of most widely used open source software, albeit in a very different industry. Unfortunately, its a bit older and usually requires a running server that you need to maintain otherwise you will get hacked - the most popular blogging platform is also the most popular target.

Static sites don't require server maintenance and are both faster and safer. The disadvantage of static sites is that they're usually harder to update or at least more work is required to set up a build and deploy pipeline. Thankfully tools like Netlify are making the build and deploy process easy and tools like [Forestry](https://forestry.io/) let you edit your content in your browser. 

A list of static site generators is available on [StaticGen](https://www.staticgen.com/) where you can see the most popular option is Jekyll. Jekyll is so popular that it comes with [GitHub Pages](https://pages.github.com/), so you can create your own self-hosted, static blog all without leaving GitHub. 

So why would I use Gatsby over Jekyll and GitHub Pages?

1. You want to build your blog using React components.
2. You want to use React components in your blog posts.
3. You want to try out Netlify.
4. You want to ride the hype train.

You can tick 1,2 and 4 by clicking the Netlify button on the [gatsby-starter-blog](https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/) but number 2. bothered me.

Markdown is the standard for blog posts but that means no React components in posts. How could I get the best of Markdown and React?

Then I remembered [MDX](https://mdxjs.com/)! MDX let's you use React components in your markdown which I've used for writing React component documentation with [docz](https://www.docz.site/), and [Gatsby supports MDX](https://www.gatsbyjs.org/docs/mdx/getting-started/) too!

There were [two mdx blog starters](https://www.gatsbyjs.org/starters/?c=Blog&c=MDX&v=2) to choose from and I chose [gatsby-starter-blog-mdx](https://www.gatsbyjs.org/starters/hagnerd/gatsby-starter-blog-mdx/) because it was closer to the original [gatsby-starter-blog](https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/).

## Styling

With the starter sorted I could start personalising the site. Gatsby comes with [Typography.js](https://kyleamathews.github.io/typography.js/) to help with vertical rhythm, which I'm still getting better at. I'll update this post as I learn more.

### Fonts

I love typography but I'm not very good at it. The [gatsby-starter-blog](https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/) comes with Serif fonts which are fairly common among blogs, especially with the likes of [Medium](https://medium.com/) but I actually preferred Sans fonts for my content. They also work well on product or landing pages.

The [System Font Stack](https://css-tricks.com/snippets/css/system-font-stack/) is becoming more popular now with GitHub and [Bootstrap Reboot](https://getbootstrap.com/docs/4.0/content/reboot/#native-font-stack) choosing to use it. This means the font will load instantly but vary depending on your device or operating system. I wasn't really happy with this because I wanted my site to look the same for everyone regardless of whether your operating system comes with nice fonts or not.

Paid fonts are generally considered nicer but unfortunately they're not free. A nice one is [Avenir](https://www.myfonts.com/fonts/linotype/avenir/), used on [forestry.io](https://forestry.io/).

[Google Fonts](https://fonts.google.com/) has lots of free fonts but finding one you like takes some time. I recommend experimenting with different fonts on your own content using a Google Chrome extension called [Font Changer with Google Fonts](https://chrome.google.com/webstore/detail/font-changer-with-google/jgjhhoglgjdklldfgoffdiaceffijeke?hl=en). There might be better extensions out there though, this one doesn't have all Google fonts for some reason.

Some nice Sans fonts to try are:
- Open Sans
- Lato
- Source Sans Pro
- IBM Plex Sans (not available with extension)
- Nunito
- Helvetica (system font, it's a classic)

If you like a website's font then you can easily find out what it is by right clicking on some text, clicking inspect element to bring up your browser's development tools then clicking on the computed styles tab where you can look at the font-family.

## Writing

Is hard for me. I can smash out emails, pull request comments, messages and explain things but paragraphs and sentences make me really nervous and uncomfortable. It doesn't help when you're writing about a new topic that you're still figuring out. I write a lot of notes in dot points at work and found the same technique helped me record and organise my ideas instead of re-writing the same sentence for an hour until its still terrible. Hopefully I can get better with practice.

## Method

1. Open [Typora]([https://typora.io/) so you can write your first blog post as you go.

2. Go to [domains.google.com](https://domains.google.com) to buy the .dev domain. Its a bit cheaper than namecheap.

   1. Verify the domain by clicking the link in your emails.
   2. Leave this tab open for later.

3. Go to [GitHub](https://github.com) to create the repo.

   1. Click the plus on the top right corner, then go New repository.
   2. Name it cadell.dev.
   3. Click Create Repository.
   4. Leave the tab open.

4. Go to [GatsbyJS](https://www.gatsbyjs.org/).

   1. Open the [Quick start](https://www.gatsbyjs.org/docs/quick-start).

   2. Open Terminal.

   3. cd to your personal dev folder.
      ```shell
      cd dev/personal
      ```

   4. Install the gatsby CLI.
      ```shell
      npm install -g gatsby-cli
      ```

   5. Create the site. 
      ```shell
      gatsby new mdx-test https://github.com/hagnerd/gatsby-starter-blog-mdx
      ```

   6. cd into cadell.dev.
      ```shell
      cd cadell.dev
      ```

   7. Start gatsby. 
      ```shell
      yarn start.
      ```

   8.  Open localhost:8000 in your browser.

   9.  Close gatsby by typing `Control + c`.

5. Open the github page you left open earlier.

   1. Copy the command from the "or push an exsting repository from the command line" section. Gatsby created a git repo for us.

   2. Run the command in terminal.

      ```shell
      git remote add origin https://github.com/cadbox1/cadell.dev.git
      git push -u origin master
      ```

   3. Refresh the github page to see the files from our first commit.

6. Go to [Netlify](https://www.netlify.com/).

   1. Signup.
   2. Activate your account via email to get in (I like this).
   3. On the Create a new site page, Click connect to Git provider.
   4. Click GitHub.
   5. Auhtorize Nelify by Netlify to access your GitHub account.
   6. Select the cadell.dev repo.
   7. Click Install.
   8. Select the cadell.dev repo in Netlify.
   9. Netlify has automatically detected that our site is a Gatsby site. Click Deploy site.
   10. Wait a few moments for the site to be deployed.
   11. Click Set up a custom domain. Apparently you can buy the domain inside Netlify, for ~$5 aud extra. Oh well, setting up DNS is somewhat related to being a web developer.
   12. Type in `cadell.dev`.
   13. Click Yes, add domain.
   14. Click Check DNS configuration.
   15. Now apparently we can either do the developer thing I spoke about earlier and setup the DNS in Google or get Netlify to manage our DNS. The latter will mean that we have the option to have [branch deploys under our domain](https://www.netlify.com/docs/continuous-deployment/#branches-deploys) which sounds aesthetically better. We still get to configure name servers which is still pretty developery.
   16. Click Set up Netlify DNS for cadell.dev.
   17. Click Verify.
   18. Click Yes, add domain.
   19. Since Netlify will now be our DNS, we have the option to add DNS records if we use the domain for other services like email. Let's skip this since we aren't and can always do it later.
   20. Click Continue.
   21. Open up the Google Domains tab we left open from earlier.
   22. Click Use custom name servers for your domain.
   23. Click User custom name servers.
   24. Enter each one of the Netlify name servers.
   25. Click Save.
   26. Click Change name servers anyway when prompted with a scary DNSSEC warning.
   27. Open the Netlify tab.
   28. Click Done.
   29. Refresh the page after a few moments to make the DNS warnings go away.
   30. Scroll down to HTTPS, click Verify DNS Configuration.
   31. Scroll up to Branch subdomains, click Deploy settings panel.
   32. Under Deploy contexts, click Edit settings.
   33. Select All for Branch deploys.
   34. Click Save.
   35. Click on Domain management to see that our SSL certificate has been created.
   36. We can now go to [https://cadell.dev/](https://cadell.dev/).

7. Open VSCode.

   1. Open the `cadell.dev` folder.
   2. Hit `Control + `` to reveal the terminal.
   3. Create a new branch. 
      ```
      git checkout -b FirstRealCommit
      ```
   4. Create the following folder. `content/blog/creating-cadell.dev`.
   5. Open Typora.
   6. Save the markdown file to `content/blog/creating-cadell.dev/index.md`.
   7.  Run the following command to start the development server. This is standard for npm projects.
      ```
      yarn start
      ```
   8.  `Cmd + Click` the `http://localhost:8000/` link in terminal to open it in your browser.
   9.  Open `gatsby-config.js`.
   10. Change the siteMetadata.title to `cadell.dev`.
   11. Change the author to `Cadell Christo`.
   12. Remove the `description`, `siteUrl` and `social`.
   13. Double click the `index.js` file under `src/pages`. The double click makes the tab 'sticky'.
   14. Remove the keywords from the SEO component.
   15. `Command + Click` the Bio component to open it up. Edit it to your liking.
   16. Open up the `content/blog` folder and delete the default posts.
   17. Click the cloud in the bottom left of VSCode to push the branch.
   18. We should be able to go to [https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/](https://firstrealcommit--heuristic-jepsen-9bfaa6.netlify.com/) to see the result. Netlify built and deployed the branch automatically!
   19. Click Output then Git to see the push result.
   20. Command Click the pull request link to create a pull request.
   21. Click Create pull request. This will kick off Netlify again.
   22.  Wait a few minutes for Netlify to build. 
   23. Click the deploy preview to see the site.
   24. Click the drop down on the merge pull request then click Squash and merge.
   25. Go to [https://cadell.dev/](https://cadell.dev/) and see the result.